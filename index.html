<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>taz vs BILD</title>
		<link rel="stylesheet" href="style.css">
		<!-- START Facebook OpenGraph -->
		<meta property="og:title" content="taz vs. BILD"/>
		<meta property="og:site_name" content="taz vs. BILD"/>
		<meta property="og:url" content="http://taz-vs-bild.cf"/>
		<meta property="og:description" content="Die Titelseiten der taz und der BILD im Vergleich nebeneinander. Jeden Tag neu."/>
		<meta property="og:image" content="http://taz-vs-bild.cf/taz_vs_bild.png"/>
		<!-- END Facebook OpenGraph -->
		<!-- START Twitter Card -->
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:creator" content="@chrisma0">
		<meta name="twitter:title" content="taz vs. BILD">
		<meta name="twitter:description" content="Die Titelseiten der taz und der BILD im Vergleich nebeneinander. Jeden Tag neu.">
		<meta name="twitter:image:src" content="http://taz-vs-bild.cf/taz_vs_bild.png">
		<!-- END Twitter Card -->
	</head>
	<body>
		<div id="content">
			<img class="paper" id="taz" src="spinner.gif">
			<img class="paper" id="bild" src="spinner.gif">
		</div>
		<footer>Titelseiten vom <a href="http://www.newseum.org/">Newseum</a> | Gebaut von <a href="https://twitter.com/chrisma0">chrisma0</a> | Gehostet auf <a href="https://github.com/chrisma/taz-vs-BILD">Github</a></footer>
		<script type="text/javascript">
			function construct_url(date, paper) {
				// URLs are in the format:
				// http://webmedia.newseum.org/newseum-multimedia/dfp/jpg10/lg/GER_BILD.jpg
				paper = paper.toUpperCase();
				var url = 'http://webmedia.newseum.org/newseum-multimedia/dfp/jpg' + date + '/lg/GER_' + paper + '.jpg';
				return url
			}

			var imgs = document.getElementsByClassName('paper');
			var today = new Date().getUTCDate();
			// If today's front page 404s, use yesterday's
			imgs.onerror = function() {
				yesterday_url = construct_url(today-1, this.id);
				if (this.src === yesterday_url) {
					console.log("Today's and yesterday's URLs invalid.");
					return
				}
				this.src = yesterday_url;
			}

			document.getElementById('taz').src = construct_url(today, 'taz');
			document.getElementById('bild').src = construct_url(today, 'bild');
			
		</script>
	</body>
</html>